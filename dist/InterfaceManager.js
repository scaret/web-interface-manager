!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.InterfaceManager=t():e.InterfaceManager=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function s(){}function i(e,t,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new function(e,t,n){this.fn=e,this.context=t,this.once=n||!1}(n,r||e,s),a=o?o+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function c(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(o=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,i=new Array(s);r<s;r++)i[r]=n[r].fn;return i},c.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,s,i){var a=o?o+e:e;if(!this._events[a])return!1;var c,f,u=this._events[a],p=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),p){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,s),!0;case 6:return u.fn.call(u.context,t,n,r,s,i),!0}for(f=1,c=new Array(p-1);f<p;f++)c[f-1]=arguments[f];u.fn.apply(u.context,c)}else{var h,l=u.length;for(f=0;f<l;f++)switch(u[f].once&&this.removeListener(e,u[f].fn,void 0,!0),p){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,t);break;case 3:u[f].fn.call(u[f].context,t,n);break;case 4:u[f].fn.call(u[f].context,t,n,r);break;default:if(!c)for(h=1,c=new Array(p-1);h<p;h++)c[h-1]=arguments[h];u[f].fn.apply(u[f].context,c)}}return!0},c.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var s=o?o+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var i=this._events[s];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||a(this,s);else{for(var c=0,f=[],u=i.length;c<u;c++)(i[c].fn!==t||r&&!i[c].once||n&&i[c].context!==n)&&f.push(i[c]);f.length?this._events[s]=1===f.length?f[0]:f:a(this,s)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";n.r(t);var r=window.XMLHttpRequest,o=n(0);function s(){this._ee=new o}s.prototype.register=function(e){var t=this;t._ee.emit("xhrRegister",e),setTimeout(function(){t._ee.emit("xhrAfterRegister",e)},0)},s.prototype.on=function(e,t){this._ee.on(e,t.bind(this))};var i=new s;function a(){this.readyState=a.UNSENT,this.headers=[],i.register(this)}a.UNSENT=0,a.OPENED=1,a.HEADERS_RECEIVED=2,a.LOADING=3,a.DONE=4,a.prototype.open=function(){var e=this,t=new r;if(e.xhr=t,e.openArgs=arguments,t.onreadystatechange=function(){e.readyState=t.readyState,e.onreadystatechange&&e.onreadystatechange.apply(e,arguments)},t.onload=function(){e.responseText=t.responseText,i._ee.emit("xhrBeforeLoad",e),e.onload&&e.onload.apply(e,arguments)},t.onerror=function(){e.responseText=t.responseText,e.onerror&&e.onerror.apply(e,arguments)},t.onprogress=function(){e.onprogress&&e.onprogress.apply(e,arguments)},i._ee.emit("xhrBeforeOpen",e),e.headers&&e.headers.length){for(var n in e.headers)t.setRequestHeader.apply(e,e.headers[n]);e.headers=[]}e.timeout&&(t.timeout=e.timeout),t.open.apply(t,e.openArgs)},a.prototype.send=function(){if(!this.xhr)throw new Error("OPEN FIRST");this.sendArgs=arguments,i._ee.emit("xhrBeforeSend",this),this.xhr.send.apply(this.xhr,this.sendArgs),i._ee.emit("xhrAfterSend",this)},a.prototype.setRequestHeader=function(){this.xhr?this.xhr.setRequestHeader.apply(this.xhr,arguments):this.xhr.headers.push(arguments)};var c=window.WebSocket,f=n(0);function u(){this._ee=new f}u.prototype.register=function(e){var t=this;t._ee.emit("socketRegister",e),setTimeout(function(){t._ee.emit("socketAfterRegister",e)},0)},u.prototype.on=function(e,t){this._ee.on(e,t.bind(this))};var p=new u;function h(e,t){var n=this;n.url=e,n.protocols=t,p.register(n);var r=new c(n.url,n.protocols);n.socket=r,n.readyState=r.readyState,r.onopen=function(){n.readyState=r.readyState,p._ee.emit("socketOpen",n),n.onopen&&n.onopen.apply(n,arguments)},r.onclose=function(){n.readyState=r.readyState,p._ee.emit("socketClose",n),n.onclose&&n.onclose.apply(n,arguments)},r.onerror=function(e){n.readyState=r.readyState,p._ee.emit("socketError",n,e),n.onerror&&n.onerror.apply(n,arguments)},r.onmessage=function(e){n.readyState=r.readyState,p._ee.emit("socketMessage",n,e),n.onmessage&&n.onmessage.apply(n,arguments)}}h.CONNECTING=0,h.OPEN=1,h.CLOSING=2,h.CLOSED=3,h.prototype.send=function(){this.sendArgs=arguments,p._ee.emit("socketBeforeSend",this),this.socket.send.apply(this.socket,this.sendArgs)},h.prototype.close=function(){p._ee.emit("socketBeforeClose",this),this.socket.close(),this.readyState=this.socket.readyState},n.d(t,"xmlHttpRequestManager",function(){return i}),n.d(t,"webSocketManager",function(){return p}),window.XMLHttpRequest=a,window.WebSocket=h}])});
//# sourceMappingURL=InterfaceManager.js.map